# =============================================================================
# Synkventory Backend Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values for your environment.
# Do NOT commit .env to version control.
#
# For Digital Ocean App Platform:
# - DATABASE_URL is automatically provided
# - Set other variables in the App Spec or dashboard
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
PROJECT_NAME=Synkventory API
VERSION=1.0.0
API_V1_STR=/api/v1

# CRITICAL: Set to "production" in production environments!
# This affects tenant validation, CORS, and security settings.
# In development mode, X-Tenant-Slug header is required for testing.
ENVIRONMENT=development

# Set to true for development, false for production
DEBUG=false

# Secret key for JWT tokens and cryptographic operations
# IMPORTANT: Generate a secure random key for production!
# Example: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-change-in-production

# -----------------------------------------------------------------------------
# Database Settings
# -----------------------------------------------------------------------------
# Option 1: Use DATABASE_URL (recommended for cloud platforms)
# Digital Ocean, Heroku, Railway, etc. provide this automatically
# Format: postgresql://user:password@host:port/database?sslmode=require
#
# DATABASE_URL=postgresql://user:password@host:25060/database?sslmode=require

# Option 2: Individual database settings (for local development)
# These are ignored if DATABASE_URL is set
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_SERVER=db
POSTGRES_PORT=5432
POSTGRES_DB=synkventory

# Connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# -----------------------------------------------------------------------------
# Database Migrations & Seeds
# -----------------------------------------------------------------------------
# Set to "true" to run Alembic migrations on container startup
# Set to "false" to skip (useful when running migrations manually)
RUN_MIGRATIONS=true

# Set to "true" to run database seeds on container startup
# Seeds create the default tenant and system user
RUN_SEEDS=true

# -----------------------------------------------------------------------------
# CORS Settings
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
# Include your frontend URL(s) here
CORS_ORIGINS=http://localhost:4200,http://localhost

# -----------------------------------------------------------------------------
# Multi-Tenancy Settings
# -----------------------------------------------------------------------------
# Base domain for subdomain extraction (e.g., synkventory.com)
# Subdomains like demo.synkventory.com will be extracted as "demo"
BASE_DOMAIN=synkventory.com

# Cookie domain for cross-subdomain authentication
# Must start with a dot to share cookies across subdomains
# Set to null/empty in development, ".synkventory.com" in production
COOKIE_DOMAIN=

# -----------------------------------------------------------------------------
# Server Settings
# -----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8000

# Number of worker processes (for production with gunicorn)
WORKERS=1

# -----------------------------------------------------------------------------
# Logging Settings
# -----------------------------------------------------------------------------
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
